
{{ menu := Widget.Menu()}}
{{ menuLen := len(menu) }}

{{ if menuLen > 0}}
    <nav x-ref="menu" class="menu flex-grow hidden lg:grid grid-flow-col auto-cols-max gap-5">
        {{ range i, v := menu }}
            {{ current := false}}
            {{if Page.Name==`category` && (Data.ID == v.ID || Data.ParentID == v.ID)}}{{current = true}}{{end}}
            {{if Page.Name==`article` && Data.CategoryID == v.ID}}{{current = true}}{{end}}
            <div class="menu-item{{if current}} current{{end}}" x-data="{ show: false }" @mouseleave="show = false" @mouseover="show = true">
                <h2><a href="{{v.URL()}}">{{v.Name}}</a></h2>
                {{ if len(v.Children) > 0}}
                <div class="menu-sub" x-show="showDrawer || show" x-cloak>
                    <ul>
                        {{ range i, s := v.Children }}
                        <li><a href="{{s.URL()}}">{{s.Name}}</a></li>
                        {{ end }}
                    </ul>
                </div>
                {{ end }}
            </div>
        {{ end }}
    </nav>
{{ end }}