import{s as p,_ as R}from"./index.6188fb80.js";import{u as U}from"./vue-request.068b6d0d.js";import{j as D,u as I,e as y,k as m}from"./index.ad236f72.js";import{i as N,c as h,j as d,k as u,p as f,v as i,m as s,$ as e,n as q,z as v,s as z,Y as T,F as B,a2 as S,l as j}from"./@vue.1832462a.js";import"./@vueuse.b7caaad8.js";import"./@arco-design.fc217e7a.js";import"./resize-observer-polyfill.8deb1e21.js";import"./compute-scroll-into-view.17358474.js";import"./b-tween.87ffe365.js";import"./dayjs.396bdce9.js";import"./@intlify.bed9fa1a.js";import"./source-map.205bdfab.js";import"./b-validate.ee581f7d.js";import"./number-precision.6dad9ff9.js";import"./scroll-into-view-if-needed.61c672a4.js";import"./naive-ui.4ada00fb.js";import"./date-fns.a06005bd.js";import"./seemly.d0f7d7a4.js";import"./evtd.9eee5233.js";import"./@css-render.fee374bc.js";import"./css-render.20ab466e.js";import"./@emotion.6322e2ae.js";import"./vooks.186fd3b0.js";import"./vueuc.533174bc.js";import"./vdirs.ab69c576.js";import"./@juggle.32c34d6c.js";import"./lodash-es.33d1f95f.js";import"./date-fns-tz.c3c7eb03.js";import"./vue-router.d0ac2f3e.js";import"./vue-i18n.32b246c6.js";import"./vue.307b73bb.js";import"./pinia.3d582541.js";import"./vue-demi.b3a9cad9.js";import"./axios.7d4390ff.js";import"./form-data.2b153385.js";/* empty css                    */const F={class:"w-full"},L={key:0,class:"break-all text-gray-600",style:{"margin-top":"3px","font-size":"12px"}},O={key:1},W={__name:"Post",setup(x){const l=N("record"),n=h(()=>l.value.create_time*1e3),{data:c,loading:w}=U(D,{onSuccess:()=>{V(c.value)}}),_=I(),b=h(()=>{let o=_.config.router.category_rule.replace("{slug}",l.value.slug);return o.indexOf("/")!==0&&(o="/"+o),_.config.site.url+o});function V(o){for(let t in o)o[t].id===l.value.id?o[t].disabled=!0:V(o[t].children)}return(o,t)=>{const g=d("a-input"),r=d("a-form-item"),$=d("a-cascader"),k=d("a-textarea"),C=d("a-date-picker");return u(),f(B,null,[i(r,{field:"name",label:o.$t("name"),rules:[{required:!0,message:o.$t("message.required",[o.$t("name")])}]},{default:s(()=>[i(g,{modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).name=a),"max-length":150,"allow-clear":"","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["label","rules"]),i(r,{field:"slug",label:o.$t("slug"),rules:[{required:!!e(l).id,message:o.$t("message.required",[o.$t("slug")])}]},{default:s(()=>[q("div",F,[i(g,{modelValue:e(l).slug,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).slug=a),"max-length":150,"allow-clear":"","show-word-limit":""},null,8,["modelValue"]),e(l).slug?(u(),f("div",L,[e(l).id>0?(u(),f("div",{key:0,onClick:t[2]||(t[2]=(...a)=>e(y)&&e(y)(...a)),class:"cursor-pointer hover:underline underline-offset-4 hover:text-blue-500"},v(e(b)),1)):(u(),f("div",O,v(e(b)),1))])):z("",!0)])]),_:1},8,["label","rules"]),i(r,{field:"parent_id",label:o.$t("parentCategory")},{default:s(()=>[i($,{options:e(c),modelValue:e(l).parent_id,"onUpdate:modelValue":t[3]||(t[3]=a=>e(l).parent_id=a),loading:e(w),fallback:a=>a!==0,"field-names":{value:"id",label:"name"},"check-strictly":"","allow-clear":""},null,8,["options","modelValue","loading","fallback"])]),_:1},8,["label"]),i(r,{field:"title",label:o.$t("title")},{default:s(()=>[i(g,{modelValue:e(l).title,"onUpdate:modelValue":t[4]||(t[4]=a=>e(l).title=a),"max-length":250,"allow-clear":"","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["label"]),i(r,{field:"description",label:o.$t("description")},{default:s(()=>[i(k,{class:"input",modelValue:e(l).description,"onUpdate:modelValue":t[5]||(t[5]=a=>e(l).description=a),"max-length":250,"auto-size":{minRows:3,maxRows:5},"show-word-limit":""},null,8,["modelValue"])]),_:1},8,["label"]),i(r,{field:"keywords",label:o.$t("keywords")},{default:s(()=>[i(k,{class:"input",modelValue:e(l).keywords,"onUpdate:modelValue":t[6]||(t[6]=a=>e(l).keywords=a),"max-length":250,"auto-size":{minRows:3,maxRows:5},"show-word-limit":""},null,8,["modelValue"])]),_:1},8,["label"]),i(r,{field:"create_time",label:o.$t("createTime")},{default:s(()=>[i(C,{class:"w-full",modelValue:e(n),"onUpdate:modelValue":t[7]||(t[7]=a=>T(n)?n.value=a:null),"value-format":"timestamp","show-time":"",onChange:t[8]||(t[8]=a=>e(l).create_time=parseInt(a/1e3))},null,8,["modelValue"])]),_:1},8,["label"])],64)}}},xe={__name:"index",setup(x){const l=S(W),n=[{title:m("id"),dataIndex:"id",width:100,ellipsis:!0,filterable:p,sortable:{sortDirections:["ascend","descend"]}},{title:m("name"),dataIndex:"name",filterable:p,minWidth:300,slotName:"title"},{title:m("slug"),dataIndex:"slug",filterable:p,width:200,ellipsis:!0,tooltip:!0},{title:m("parentCategory"),dataIndex:"parent_id",width:100,ellipsis:!0,filterable:p},{title:m("createTime"),dataIndex:"create_time",slotName:"time",width:140}];return(c,w)=>(u(),j(R,{modelName:"category",columns:n,order:"id desc",postWidth:"470px",formStyle:"padding-right: 10px",formLayout:"horizontal",postComponent:e(l)},null,8,["postComponent"]))}};export{xe as default};
