import{a as P,_ as k}from"./index.ad236f72.js";import{u as U}from"./vue-request.068b6d0d.js";import{u as C}from"./vue-router.d0ac2f3e.js";import{M as R}from"./@arco-design.fc217e7a.js";import{r as p,j as l,k as f,l as _,m as r,n as d,z as c,v as t,$ as S,y as A}from"./@vue.1832462a.js";import"./vue-i18n.32b246c6.js";import"./@intlify.bed9fa1a.js";import"./source-map.205bdfab.js";import"./vue.307b73bb.js";import"./@vueuse.b7caaad8.js";import"./pinia.3d582541.js";import"./vue-demi.b3a9cad9.js";import"./naive-ui.4ada00fb.js";import"./date-fns.a06005bd.js";import"./seemly.d0f7d7a4.js";import"./evtd.9eee5233.js";import"./@css-render.fee374bc.js";import"./css-render.20ab466e.js";import"./@emotion.6322e2ae.js";import"./vooks.186fd3b0.js";import"./vueuc.533174bc.js";import"./vdirs.ab69c576.js";import"./@juggle.32c34d6c.js";import"./lodash-es.33d1f95f.js";import"./date-fns-tz.c3c7eb03.js";import"./axios.7d4390ff.js";import"./form-data.2b153385.js";/* empty css                    */import"./resize-observer-polyfill.8deb1e21.js";import"./compute-scroll-into-view.17358474.js";import"./b-tween.87ffe365.js";import"./dayjs.396bdce9.js";import"./b-validate.ee581f7d.js";import"./number-precision.6dad9ff9.js";import"./scroll-into-view-if-needed.61c672a4.js";const B={class:"w-full flex items-center justify-between"},N={__name:"CreateAdmin",setup(v){const n=C(),i=p(!0),o=p({username:"",password:"",repeatPassword:""});function w({values:a,errors:e}){e===void 0&&V(o.value)}function g(a,e){a!==o.value.password&&e("Repeat password do not match.")}const{loading:b,run:V}=U(P,{manual:!0,loadingDelay:200,loadingKeep:1e3,onSuccess:a=>{a.success&&(R.success("create success"),i.value=!1,n.push({name:"login"}))}});return(a,e)=>{const h=l("a-input"),m=l("a-form-item"),u=l("a-input-password"),y=l("a-button"),$=l("a-form"),q=l("a-modal");return f(),_(q,{visible:i.value,"onUpdate:visible":e[3]||(e[3]=s=>i.value=s),"modal-class":"shadow-lg","mask-closable":!1,"unmount-on-close":"",closable:!1,footer:!1,"esc-to-close":!1,"title-align":"start",mask:!1,width:320},{title:r(()=>[d("div",B,[d("div",null,c(a.$t("createAdmin")),1),t(k,{type:"text"})])]),default:r(()=>[t($,{model:o.value,onSubmit:w,layout:"vertical"},{default:r(()=>[t(m,{field:"username","hide-label":"",rules:[{required:!0,message:"Username is required"}]},{default:r(()=>[t(h,{modelValue:o.value.username,"onUpdate:modelValue":e[0]||(e[0]=s=>o.value.username=s),placeholder:a.$t("username")},null,8,["modelValue","placeholder"])]),_:1}),t(m,{field:"password","hide-label":"",rules:[{required:!0,message:"Password is required"}]},{default:r(()=>[t(u,{modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.password=s),placeholder:a.$t("password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1}),t(m,{field:"repeatPassword","hide-label":"",rules:[{required:!0,message:"Enter password again"},{validator:g,trigger:"change"}]},{default:r(()=>[t(u,{modelValue:o.value.repeatPassword,"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.repeatPassword=s),placeholder:a.$t("password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),t(y,{class:"mt-2",type:"primary",long:"","html-type":"submit",loading:S(b)},{default:r(()=>[A(c(a.$t("submit")),1)]),_:1},8,["loading"])]),_:1},8,["model"])]),_:1},8,["visible"])}}},_e={__name:"createAdmin",setup(v){return(n,i)=>(f(),_(N))}};export{_e as default};
