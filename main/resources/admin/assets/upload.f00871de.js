import{K as c,k as S,Z as I}from"./index.a9860fea.js";import{j as r,k as b,p as g,v as e,m as a,F as y,Q as L,l as O,O as R,s as P,aA as T,i as E,$ as l,y as m}from"./@vue.0987707a.js";import{u as $}from"./vue-request.6886b8d7.js";import{M as w}from"./@arco-design.38d3ffc1.js";import"./vue-router.0ed66d6f.js";import"./vue-i18n.e3137642.js";import"./@intlify.bed9fa1a.js";import"./source-map.205bdfab.js";import"./vue.5c5bb0aa.js";import"./@vueuse.d5398ce4.js";import"./pinia.2e07300c.js";import"./vue-demi.b3a9cad9.js";import"./naive-ui.0057ea16.js";import"./date-fns.e2bf381f.js";import"./seemly.d0f7d7a4.js";import"./evtd.9eee5233.js";import"./@css-render.6ced7bf3.js";import"./css-render.20ab466e.js";import"./@emotion.6322e2ae.js";import"./vooks.3f61458b.js";import"./vueuc.5f5811a3.js";import"./vdirs.ab69c576.js";import"./@juggle.32c34d6c.js";import"./lodash-es.33d1f95f.js";import"./date-fns-tz.6b0f78d1.js";import"./axios.b9f958b0.js";/* empty css                    */import"./resize-observer-polyfill.8deb1e21.js";import"./compute-scroll-into-view.17358474.js";import"./b-tween.87ffe365.js";import"./dayjs.396bdce9.js";import"./b-validate.ee581f7d.js";import"./number-precision.6dad9ff9.js";import"./scroll-into-view-if-needed.61c672a4.js";let D=[{value:"local",label:"local file"},{value:"ftp",label:"ftp"},{value:"s3",label:"amazon s3"},{value:"b2",label:"backblaze b2"},{value:"cos",label:"tencentcloud cos"},{value:"oss",label:"alibabacloud oss"},{value:"badger",label:"badgerDB"},{value:"redis",label:"redis"},{value:"memcached",label:"memcached"}];function x(o=[]){if(o.length===0)return D;let t=[];for(let d of o)for(let n of D)d===n.value&&t.push(n);return t}const B={__name:"Storage",props:{value:Object,range:Array,label:String},setup(o){const t=Object.assign({"./drivers/b2.vue":()=>c(()=>import("./b2.bcdd8815.js"),["assets/b2.bcdd8815.js","assets/index.a9860fea.js","assets/@vue.0987707a.js","assets/vue-router.0ed66d6f.js","assets/vue-i18n.e3137642.js","assets/@intlify.bed9fa1a.js","assets/source-map.205bdfab.js","assets/vue.5c5bb0aa.js","assets/@arco-design.38d3ffc1.js","assets/resize-observer-polyfill.8deb1e21.js","assets/compute-scroll-into-view.17358474.js","assets/b-tween.87ffe365.js","assets/dayjs.396bdce9.js","assets/b-validate.ee581f7d.js","assets/number-precision.6dad9ff9.js","assets/scroll-into-view-if-needed.61c672a4.js","assets/@arco-design.436fa8dd.css","assets/@vueuse.d5398ce4.js","assets/pinia.2e07300c.js","assets/vue-demi.b3a9cad9.js","assets/naive-ui.0057ea16.js","assets/date-fns.e2bf381f.js","assets/seemly.d0f7d7a4.js","assets/evtd.9eee5233.js","assets/@css-render.6ced7bf3.js","assets/css-render.20ab466e.js","assets/@emotion.6322e2ae.js","assets/vooks.3f61458b.js","assets/vueuc.5f5811a3.js","assets/vdirs.ab69c576.js","assets/@juggle.32c34d6c.js","assets/lodash-es.33d1f95f.js","assets/date-fns-tz.6b0f78d1.js","assets/axios.b9f958b0.js","assets/vue-request.6886b8d7.js","assets/index.b86caa8b.css","assets/tailwindcss.49ac6dc0.css"]),"./drivers/cos.vue":()=>c(()=>import("./cos.3d03095f.js"),["assets/cos.3d03095f.js","assets/@vue.0987707a.js"]),"./drivers/ftp.vue":()=>c(()=>import("./ftp.fe153d39.js"),["assets/ftp.fe153d39.js","assets/@vue.0987707a.js"]),"./drivers/local.vue":()=>c(()=>import("./local.c148f298.js"),["assets/local.c148f298.js","assets/@vue.0987707a.js"]),"./drivers/oss.vue":()=>c(()=>import("./oss.18f9e363.js"),["assets/oss.18f9e363.js","assets/@vue.0987707a.js"]),"./drivers/s3.vue":()=>c(()=>import("./s3.63170420.js"),["assets/s3.63170420.js","assets/@vue.0987707a.js"])});function d(n){let i=t["./drivers/"+n+".vue"];if(!!i)return T(i)}return(n,i)=>{const V=r("a-select"),p=r("a-form-item"),u=r("a-card");return b(),g(y,null,[e(p,{class:"my-5",label:o.label?o.label:n.$t("select")},{default:a(()=>[e(V,{class:"w-64",modelValue:o.value.active,"onUpdate:modelValue":i[0]||(i[0]=v=>o.value.active=v),options:o.range},null,8,["modelValue","options"])]),_:1},8,["label"]),e(u,{class:"mb-5 max-w-2xl py-5"},{default:a(()=>[(b(!0),g(y,null,L(o.value.driver,(v,_)=>(b(),g("div",null,[_===o.value.active?(b(),O(R(d(_)),{key:0,data:v},null,8,["data"])):P("",!0)]))),256))]),_:1})],64)}}},be={__name:"upload",setup(o){const t=E("data");let d;const{run:n,loading:i}=$(I,{manual:!0,onBefore:()=>{d=w.loading({content:S("init")+"...",duration:0})},onSuccess:()=>{d.close()}});return E("useSaveSuccess").value.push(()=>{n()}),(p,u)=>{const v=r("a-input"),_=r("a-form-item"),s=r("a-radio"),h=r("a-space"),k=r("a-radio-group"),A=r("a-spin");return b(),O(A,{loading:l(i)},{default:a(()=>[e(_,{label:p.$t("domain")},{default:a(()=>[e(v,{class:"w-64",modelValue:l(t).domain,"onUpdate:modelValue":u[0]||(u[0]=f=>l(t).domain=f),placeholder:"/upload/ or https://img.xxx.com"},null,8,["modelValue"])]),_:1},8,["label"]),e(_,{label:p.$t("path")},{default:a(()=>[e(k,{modelValue:l(t).path_format,"onUpdate:modelValue":u[1]||(u[1]=f=>l(t).path_format=f),name:"radiogroup"},{default:a(()=>[e(h,null,{default:a(()=>[e(s,{key:"date",value:"date"},{default:a(()=>[m("date")]),_:1}),e(s,{key:"hashDate",value:"hashDate"},{default:a(()=>[m("hash date")]),_:1}),e(s,{key:"hashName",value:"hashName"},{default:a(()=>[m("hash name")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(_,{label:p.$t("name")},{default:a(()=>[e(k,{modelValue:l(t).name_format,"onUpdate:modelValue":u[2]||(u[2]=f=>l(t).name_format=f),name:"radiogroup"},{default:a(()=>[e(h,null,{default:a(()=>[e(s,{key:"original",value:""},{default:a(()=>[m("original")]),_:1}),e(s,{key:"md5",value:"md5"},{default:a(()=>[m("md5")]),_:1}),e(s,{key:"uuid",value:"uuid"},{default:a(()=>[m("uuid")]),_:1}),e(s,{key:"snowflake",value:"snowflake"},{default:a(()=>[m("snowflakeID")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(B,{value:l(t).storage,label:p.$t("storage"),range:l(x)(["local","ftp","s3","b2","cos","oss"])},null,8,["value","label","range"])]),_:1},8,["loading"])}}};export{be as default};
