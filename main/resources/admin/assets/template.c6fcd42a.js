import{u as H,e as C,j as F,b as Q,P as J,i as K}from"./index.f4b9065c.js";import{i as P,j as u,k as V,p as h,v as e,m as t,$ as o,n as v,z as N,y as x,F as z,l as R,Q as M,s as q,r as E,t as W,w as A,c as T}from"./@vue.0987707a.js";import{_ as X}from"./UploadImgInput.689f8d0d.js";import{u as D}from"./vue-request.6886b8d7.js";import"./vue-router.0ed66d6f.js";import"./vue-i18n.e3137642.js";import"./@intlify.bed9fa1a.js";import"./source-map.205bdfab.js";import"./vue.5c5bb0aa.js";import"./@arco-design.55369db5.js";import"./resize-observer-polyfill.8deb1e21.js";import"./compute-scroll-into-view.17358474.js";import"./b-tween.87ffe365.js";import"./dayjs.396bdce9.js";import"./b-validate.ee581f7d.js";import"./number-precision.6dad9ff9.js";import"./scroll-into-view-if-needed.61c672a4.js";import"./@vueuse.d5398ce4.js";import"./pinia.2e07300c.js";import"./vue-demi.b3a9cad9.js";import"./naive-ui.506a45a0.js";import"./date-fns.a06005bd.js";import"./seemly.d0f7d7a4.js";import"./evtd.9eee5233.js";import"./@css-render.6ced7bf3.js";import"./css-render.20ab466e.js";import"./@emotion.6322e2ae.js";import"./vooks.3f61458b.js";import"./vueuc.5f5811a3.js";import"./vdirs.ab69c576.js";import"./@juggle.32c34d6c.js";import"./lodash-es.33d1f95f.js";import"./date-fns-tz.c3c7eb03.js";import"./axios.b9f958b0.js";/* empty css                    */const Y={class:"flex items-center gap-3"},Z={__name:"content",setup(p){const l=P("data");let r=H().config.site.url;r||(r=window.location.origin);const n=f=>{const{fileItem:s}=f,a=new FileReader;a.readAsDataURL(s.file),a.onload=()=>{l.value.favicon_ico=a.result}};return(f,s)=>{const a=u("a-textarea"),i=u("a-form-item"),w=u("a-button"),g=u("a-upload");return V(),h(z,null,[e(i,{label:"Head",field:"head"},{default:t(()=>[e(a,{modelValue:o(l).head,"onUpdate:modelValue":s[0]||(s[0]=d=>o(l).head=d),"auto-size":{minRows:5,maxRows:20}},null,8,["modelValue"])]),_:1}),e(i,{label:"Footer",field:"footer"},{default:t(()=>[e(a,{modelValue:o(l).footer,"onUpdate:modelValue":s[1]||(s[1]=d=>o(l).footer=d),"auto-size":{minRows:5,maxRows:20}},null,8,["modelValue"])]),_:1}),e(i,{label:"robots.txt",field:"robots_txt"},{extra:t(()=>[v("span",{class:"cursor-pointer hover:text-blue-400",onClick:s[3]||(s[3]=(...d)=>o(C)&&o(C)(...d))},N(o(r))+"/robots.txt",1)]),default:t(()=>[e(a,{modelValue:o(l).robots_txt,"onUpdate:modelValue":s[2]||(s[2]=d=>o(l).robots_txt=d),"auto-size":{minRows:5,maxRows:20}},null,8,["modelValue"])]),_:1}),e(i,{label:"ads.txt",field:"ads_txt"},{extra:t(()=>[v("span",{class:"cursor-pointer hover:text-blue-400",onClick:s[5]||(s[5]=(...d)=>o(C)&&o(C)(...d))},N(o(r))+"/ads.txt",1)]),default:t(()=>[e(a,{modelValue:o(l).ads_txt,"onUpdate:modelValue":s[4]||(s[4]=d=>o(l).ads_txt=d),"auto-size":{minRows:5,maxRows:20}},null,8,["modelValue"])]),_:1}),e(i,{label:"favicon.ico",field:"favicon_ico"},{extra:t(()=>[v("div",Y,[e(g,{"custom-request":n,size:"small","show-file-list":!1,accept:"image/*"},{"upload-button":t(()=>[e(w,{type:"outline",size:"mini"},{default:t(()=>[x(N(f.$t("upload")),1)]),_:1})]),_:1}),v("span",{class:"cursor-pointer hover:text-blue-400",onClick:s[7]||(s[7]=(...d)=>o(C)&&o(C)(...d))},N(o(r))+"/favicon.ico",1)])]),default:t(()=>[e(a,{modelValue:o(l).favicon_ico,"onUpdate:modelValue":s[6]||(s[6]=d=>o(l).favicon_ico=d),"auto-size":{minRows:4,maxRows:4}},null,8,["modelValue"])]),_:1})],64)}}},ee={class:"text-gray-300"},te={__name:"carousel",setup(p){const l=P("data");l.value.carousel||(l.value.carousel=[]);function m(){l.value.carousel.push({image:"",link:"",title:""})}function r(a){l.value.carousel.splice(a,1)}const n=function(a,i,w){return a[i]=a.splice(w,1,a[i])[0],a};function f(a){let i=[];l.value.carousel.length>1&&a!==0&&(i=n(l.value.carousel,a,a-1)),i.length>0&&(l.value.carousel=i)}function s(a){let i=[];l.value.carousel.length>1&&a!==l.value.carousel.length-1&&(i=n(l.value.carousel,a,a+1)),i.length>0&&(l.value.carousel=i)}return(a,i)=>{const w=u("a-switch"),g=u("a-form-item"),d=u("icon-caret-left"),k=u("a-button"),S=u("icon-caret-right"),G=u("a-button-group"),O=u("icon-close-circle"),B=u("a-input"),_=u("a-form"),c=u("a-card"),y=u("a-grid-item"),$=u("icon-plus-circle"),I=u("a-grid");return V(),h(z,null,[e(g,{label:a.$t("enable")},{default:t(()=>[e(w,{type:"round",modelValue:o(l).enable_carousel,"onUpdate:modelValue":i[0]||(i[0]=b=>o(l).enable_carousel=b)},null,8,["modelValue"])]),_:1},8,["label"]),o(l).enable_carousel?(V(),R(I,{key:0,cols:{xs:1,sm:1,md:1,lg:2,xl:3,xxl:4},colGap:12,rowGap:16},{default:t(()=>[(V(!0),h(z,null,M(o(l).carousel,(b,L)=>(V(),R(y,null,{default:t(()=>[e(c,{title:"#"+(L+1),size:"small",style:{height:"324px"},"header-style":{padding:"8px"}},{extra:t(()=>[e(G,{size:"small"},{default:t(()=>[e(k,{disabled:L===0,onClick:U=>f(L)},{icon:t(()=>[e(d)]),_:2},1032,["disabled","onClick"]),e(k,{disabled:L===o(l).carousel.length-1,onClick:U=>s(L)},{icon:t(()=>[e(S)]),_:2},1032,["disabled","onClick"])]),_:2},1024),e(k,{onClick:U=>r(L),class:"ml-2",size:"small"},{icon:t(()=>[e(O)]),_:2},1032,["onClick"])]),default:t(()=>[e(_,{model:b,layout:"vertical"},{default:t(()=>[e(g,{field:"image",label:a.$t("image")},{default:t(()=>[e(X,{modelValue:b.image,"onUpdate:modelValue":U=>b.image=U,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),e(g,{field:"link",label:a.$t("link")},{default:t(()=>[e(B,{modelValue:b.link,"onUpdate:modelValue":U=>b.link=U},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),e(g,{field:"title",label:a.$t("title")},{default:t(()=>[e(B,{modelValue:b.title,"onUpdate:modelValue":U=>b.title=U},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]),_:2},1032,["model"])]),_:2},1032,["title"])]),_:2},1024))),256)),e(y,null,{default:t(()=>[e(c,{style:{height:"324px","background-color":"var(--color-fill-1)"},class:"h-full w-full flex items-center justify-center cursor-pointer",onClick:m},{default:t(()=>[v("div",ee,[e($,{size:60})])]),_:1})]),_:1})]),_:1})):q("",!0)],64)}}},le={__name:"menu",setup(p){const l=P("data"),{data:m,loading:r}=D(F),n=E("");function f(s){let a=Number(s);n.value="",a&&a>0&&l.value.menu.select.push(a)}return(s,a)=>{const i=u("a-tree-select"),w=u("a-space"),g=u("a-form-item"),d=u("a-input-number");return V(),h(z,null,[e(g,{label:s.$t("select")},{default:t(()=>[e(w,{direction:"vertical"},{default:t(()=>[e(i,{modelValue:o(l).menu.select,"onUpdate:modelValue":a[0]||(a[0]=k=>o(l).menu.select=k),"allow-search":"","allow-clear":"","allow-create":"",scrollbar:"","tree-checkable":"","tree-check-strictly":"",loading:o(r),data:o(m),fieldNames:{key:"id",title:"name"},style:{width:"320px"},onPressEnter:f,"input-value":n.value,"onUpdate:inputValue":a[1]||(a[1]=k=>n.value=k)},null,8,["modelValue","loading","data","input-value"])]),_:1})]),_:1},8,["label"]),e(g,{label:s.$t("limit")},{default:t(()=>[e(d,{modelValue:o(l).menu.limit,"onUpdate:modelValue":a[2]||(a[2]=k=>o(l).menu.limit=k),min:0,style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label"])],64)}}},ae={class:"w-full",style:{"max-width":"360px"}},j={__name:"List",props:{data:Object,showPageOption:Boolean,disableOrder:Boolean},setup(p){const{data:l,loading:m}=D(F);return(r,n)=>{const f=u("a-input-number"),s=u("a-form-item"),a=u("a-option"),i=u("a-select"),w=u("a-tree-select"),g=u("a-switch");return V(),h("div",ae,[e(s,{label:r.$t("limit")},{default:t(()=>[e(f,{modelValue:p.data.limit,"onUpdate:modelValue":n[0]||(n[0]=d=>p.data.limit=d),min:0},null,8,["modelValue"])]),_:1},8,["label"]),p.disableOrder?q("",!0):(V(),R(s,{key:0,label:r.$t("order")},{default:t(()=>[e(i,{modelValue:p.data.order,"onUpdate:modelValue":n[1]||(n[1]=d=>p.data.order=d)},{default:t(()=>[e(a,{value:""},{default:t(()=>[x("none")]),_:1}),e(a,{value:"id desc"},{default:t(()=>[x("id desc")]),_:1}),e(a,{value:"id asc"},{default:t(()=>[x("id asc")]),_:1}),e(a,{value:"views desc"},{default:t(()=>[x("views desc")]),_:1}),e(a,{value:"views asc"},{default:t(()=>[x("views asc")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])),p.showPageOption?(V(),h(z,{key:2},[e(s,{label:r.$t("maxPage")},{default:t(()=>[e(f,{modelValue:p.data.max_page,"onUpdate:modelValue":n[3]||(n[3]=d=>p.data.max_page=d),min:0},null,8,["modelValue"])]),_:1},8,["label"]),e(s,{label:"disable count"},{default:t(()=>[e(g,{type:"round",modelValue:p.data.disable_count,"onUpdate:modelValue":n[4]||(n[4]=d=>p.data.disable_count=d)},null,8,["modelValue"])]),_:1})],64)):(V(),R(s,{key:1,label:r.$t("range")},{default:t(()=>[e(w,{modelValue:p.data.category_ids,"onUpdate:modelValue":n[2]||(n[2]=d=>p.data.category_ids=d),"allow-search":!0,"allow-clear":!0,"tree-checkable":!0,"tree-check-strictly":!0,loading:o(m),data:o(l),fieldNames:{key:"id",title:"name"}},null,8,["modelValue","loading","data"])]),_:1},8,["label"]))])}}};const oe={__name:"SelectTags",props:{modelValue:Array},emits:["update:modelValue"],setup(p,{emit:l}){const m=p,{modelValue:r}=W(m),n=E(r.value);A(r,()=>{n.value=r.value}),A(n,_=>{l("update:modelValue",_)});const{data:f,run:s,loading:a}=D(J,{manual:!0}),i=T(()=>{var _;return(_=f.value)==null?void 0:_.map((c,y)=>({value:c.id,label:c.name}))});function w(){n.value&&n.value.length>0&&s(n.value)}const{data:g,run:d,loading:k}=D(K,{manual:!0}),S=T(()=>{var _;return(_=g.value)==null?void 0:_.map((c,y)=>({value:c.id,label:c.name}))}),G=T(()=>{let _={},c=[];for(let y in S.value){let $=S.value[y];_[$.value]=$}for(let y in i.value){let $=i.value[y];_[$.value]=$}for(let y in _)c.push(_[y]);return c});function O(_){let c={page:1,limit:100,order:""};_&&(c.where={field:"name",operator:"like",value:_}),d("tag",c)}w(),O();function B(_,c){c==="source"&&O(_),w()}return(_,c)=>{const y=u("a-input-tag"),$=u("a-transfer"),I=u("a-trigger");return V(),R(I,{position:"rt","auto-fit-position":"","unmount-on-close":!1,trigger:"click","popup-translate":[10,0]},{content:t(()=>[e($,{data:o(G),modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=b=>n.value=b),simple:"","show-search":"",onSearch:B,style:{"background-color":"var(--color-bg-5)"}},null,8,["data","modelValue"])]),default:t(()=>[e(y,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=b=>n.value=b),"unique-value":"","allow-clear":""},null,8,["modelValue"])]),_:1})}}},ne=Q(oe,[["__scopeId","data-v-c864af2f"]]),se={class:"w-full",style:{"max-width":"360px"}},ue={__name:"tagCloud",setup(p){const l=P("data");return(m,r)=>{const n=u("a-input-number"),f=u("a-form-item"),s=u("a-option"),a=u("a-select");return V(),h("div",se,[e(f,{label:m.$t("limit")},{default:t(()=>[e(n,{modelValue:o(l).tag_cloud.limit,"onUpdate:modelValue":r[0]||(r[0]=i=>o(l).tag_cloud.limit=i),min:0},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:m.$t("order")},{default:t(()=>[e(a,{modelValue:o(l).tag_cloud.order,"onUpdate:modelValue":r[1]||(r[1]=i=>o(l).tag_cloud.order=i)},{default:t(()=>[e(s,{value:""},{default:t(()=>[x("none")]),_:1}),e(s,{value:"id desc"},{default:t(()=>[x("id desc")]),_:1}),e(s,{value:"id asc"},{default:t(()=>[x("id asc")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(f,{label:m.$t("select")},{default:t(()=>[e(ne,{modelValue:o(l).tag_cloud.select,"onUpdate:modelValue":r[2]||(r[2]=i=>o(l).tag_cloud.select=i)},null,8,["modelValue"])]),_:1},8,["label"])])}}},ie={class:"p-3"},de={class:"p-3"},re={class:"p-3"},me={class:"p-3"},ce={class:"p-3"},_e={class:"p-3"},pe={class:"p-3"},fe={class:"p-3"},Xe={__name:"template",setup(p){const l=P("data");return(m,r)=>{const n=u("a-tab-pane"),f=u("a-tabs");return V(),R(f,{type:"card-gutter","lazy-load":""},{default:t(()=>[e(n,{key:"content",title:m.$t("content")},{default:t(()=>[v("div",ie,[e(Z)])]),_:1},8,["title"]),e(n,{key:"menu",title:m.$t("menu")},{default:t(()=>[v("div",de,[e(le)])]),_:1},8,["title"]),e(n,{key:"carousel",title:m.$t("carousel")},{default:t(()=>[v("div",re,[e(te)])]),_:1},8,["title"]),e(n,{key:"indexList",title:m.$t("homePageList")},{default:t(()=>[v("div",me,[e(j,{data:o(l).index_list},null,8,["data"])])]),_:1},8,["title"]),e(n,{key:"globalList",title:m.$t("globalList")},{default:t(()=>[v("div",ce,[e(j,{data:o(l).global_list},null,8,["data"])])]),_:1},8,["title"]),e(n,{key:"categoryPageList",title:m.$t("categoryPageList")},{default:t(()=>[v("div",_e,[e(j,{data:o(l).category_page_list,showPageOption:!0},null,8,["data"])])]),_:1},8,["title"]),e(n,{key:"tagPageList",title:m.$t("tagPageList")},{default:t(()=>[v("div",pe,[e(j,{data:o(l).tag_page_list,showPageOption:!0,disableOrder:!0},null,8,["data"])])]),_:1},8,["title"]),e(n,{key:"tagCloud",title:m.$t("tagCloud")},{default:t(()=>[v("div",fe,[e(ue)])]),_:1},8,["title"])]),_:1})}}};export{Xe as default};
